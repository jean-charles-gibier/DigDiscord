webpackJsonp([1],{"+IAP":function(e,t,s){e.exports=s.p+"static/img/DD_Gold_digger.cf97819.png"},"9M+g":function(e,t){},EDcd:function(e,t){},I4P3:function(e,t){},JFGN:function(e,t){},Jmt5:function(e,t){},Le5q:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),r=s("Tqaz"),n=s("mvHQ"),i=s.n(n),o=s("Xxa5"),l=s.n(o),c=s("exGp"),d=s.n(c),u=s("lCKi"),p=s.n(u),m=s("Dd8w"),v=s.n(m),f=s("mtWM"),h=s.n(f),g={data:function(){return{message:"message",service_token:""}},methods:{get_stat:function(e,t,s){var a=this;return d()(l.a.mark(function r(){return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("get_stat ==>",e),console.log(" Current Token : ",a.$store.state.user_token),r.prev=2,h.a.defaults.headers.common.Authorization="Token "+a.$store.state.user_token,r.t0=v.a,r.t1={},r.next=8,h.a.get(e);case 8:return r.t2=r.sent,r.t3={request:e,title:t,explain:s},r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 13:r.prev=13,r.t4=r.catch(2),console.error(r.t4);case 16:case"end":return r.stop()}},r,a,[[2,13]])}))()},post_profile:function(e,t){var s=this;return d()(l.a.mark(function a(){var r;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r="",console.log("post_profile ==>",e),console.log(" Current Token : ",s.$store.state.user_token),a.prev=3,h.a.defaults.headers.common.Authorization="Token "+s.$store.state.user_token,a.next=7,h.a.post(e,t).then(function(e){return e}).catch(function(e){var t=i()(e.response.data);console.log(t),r=t});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(3),console.log("==>",a.t0.message);case 12:return a.prev=12,a.finish(12);case 14:return a.abrupt("return",r);case 15:case"end":return a.stop()}},a,s,[[3,9,12,14]])}))()},put_profile:function(e,t){var s=this;return d()(l.a.mark(function a(){var r;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r="",console.log("put_profile ==>",e),console.log(" Current Token : ",s.$store.state.user_token),a.prev=3,h.a.defaults.headers.common.Authorization="Token "+s.$store.state.user_token,a.next=7,h.a.put(e,t).then(function(e){return e}).catch(function(e){var t=i()(e.response.data);console.log(t),r=t});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(3),console.log("==>",a.t0.message);case 12:return a.prev=12,a.finish(12);case 14:return a.abrupt("return",r);case 15:case"end":return a.stop()}},a,s,[[3,9,12,14]])}))()},post_get_token:function(e,t){var s=this;return d()(l.a.mark(function a(){var r;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r="",console.log("post_get_token ==>",e),console.log(" Current Token : ",s.$store.state.user_token),a.prev=3,h.a.defaults.headers.common.Authorization="Token "+s.$store.state.user_token,a.next=7,h.a.post(e,t).then(function(e){return r=e.data.token,e.data.token}).catch(function(e){var t=i()(e.response.data);console.log(t),r=t});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(3),console.log("Exception ==>",a.t0.message);case 12:return a.prev=12,a.finish(12);case 14:return a.abrupt("return",r);case 15:case"end":return a.stop()}},a,s,[[3,9,12,14]])}))()},get_promise:function(e){}}},_=(s("n1Sy"),this),b={data:function(){return{slide_value:"1",options_slide:{eventType:"auto",width:"auto",height:5,dotSize:16,min:0,max:50,interval:1,show:!0,speed:1,tooltipDir:"bottom",lazy:!0},options_ddeb:{min:_.minDate,max:_.maxDate},options_dfin:{min:_.minDate,max:_.maxDate},date_deb:_.cmp_date_deb,date_fin:_.cmp_date_fin,message:{},chartType:0,dataType:0,searchInput:"",searchSelected:"",chartTypes:["pie","curve","bar","line","json"],dataTypes:["denombrements","scores_u","scores_c","frequences_l","frequences_f","frequences_u","distributions","battle"],chartLabels:["Secteurs","Courbes","Histogrammes","Lignes","Contenu json"],dataLabels:["Chiffres","Scores utilisateurs","Scores forums","Fréquences liens URL","Fréquences forums","Fréquences utilisateurs","Répartitions","Bataille de mots"]}},watch:{dataType:function(e,t){this.searchSelected=""},chartType:function(e,t){this.searchSelected=""},date_deb:function(e,t){console.log("Prop changed: ",e," | was: ",t),this.$store.commit("SET_DATE_DEB",e)},date_fin:function(e,t){console.log("Prop changed: ",e," | was: ",t),this.$store.commit("SET_DATE_FIN",e)},slide_value:function(e,t){console.log("Prop changed: ",e," | was: ",t),this.$store.commit("SET_SLIDE_VALUE",e)}},mixins:[g],components:{VueSlider:p.a},methods:{writeBoundaryDates:function(){var e=this;return d()(l.a.mark(function t(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}))()},loadBoundaryDates:function(){var e=this;return d()(l.a.mark(function t(){var s,a,r,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s="http://127.0.0.1:8000/api/boundarydates/",t.next=3,e.get_stat(s);case 3:a=t.sent,console.log("jsonDates ="+i()(a.data)),r=a.data.first_message_date,e.$store.commit("SET_DATE_DEB",r),n=a.data.last_message_date,e.$store.commit("SET_DATE_FIN",n);case 9:case"end":return t.stop()}},t,e)}))()},updateSearch:function(){console.log("updateSearch for :"+this.searchInput),""!==this.searchInput&&(console.log("updateSearch not empty for :"+this.searchInput),this.searchSelected=this.searchInput,this.searchInput="")},setDateDeb:function(){var e=this;return d()(l.a.mark(function t(){var s,a,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=void 0,a={date_debut:e.$store.state.date_deb},r="http://127.0.0.1:8000/api/profile/",t.next=5,e.put_profile(r,a);case 5:s=t.sent,console.log(s);case 7:case"end":return t.stop()}},t,e)}))()},setDateFin:function(){var e=this;return d()(l.a.mark(function t(){var s,a,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=void 0,a={date_fin:e.$store.state.date_fin},r="http://127.0.0.1:8000/api/profile/",t.next=5,e.put_profile(r,a);case 5:s=t.sent,console.log(s);case 7:case"end":return t.stop()}},t,e)}))()},setNbMinUserMessages:function(){var e=this;return d()(l.a.mark(function t(){var s,a,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=void 0,a={nb_min_user_messages:e.$store.state.slide_value},r="http://127.0.0.1:8000/api/profile/",t.next=5,e.put_profile(r,a);case 5:s=t.sent,console.log(s);case 7:case"end":return t.stop()}},t,e)}))()},dragEnd:function(){console.log("===========================================")}},computed:{now:function(){return new Date},today:function(){return new Date(this.now.getFullYear(),this.now.getMonth(),this.now.getDate())},minDate:function(){var e=new Date(this.$store.state.date_deb);return e.setMonth(e.getMonth()),e},maxDate:function(){var e=new Date(this.$store.state.date_fin);return e.setMonth(e.getMonth()),e},chartTypeName:function(){return this.chartTypes[this.chartType]},dataTypeName:function(){return this.dataTypes[this.dataType]},dataLabelName:function(){return this.dataLabels[this.dataType]},chartLabelName:function(){return this.chartLabels[this.chartType]},slide_value:function(){return this.$store.slide_value}},mounted:function(){this.loadBoundaryDates()},name:"App"},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid  p-10 ",attrs:{id:"global-wrap"}},[a("div",{staticClass:"container-fluid p-0 "},[a("b-navbar",{staticStyle:{"font-size":"1.5em !important"},attrs:{toggleable:"lg",type:"dark",variant:"info"}},[a("b-navbar-brand",{attrs:{href:"#"}},[a("img",{attrs:{src:s("oXXe"),alt:"Home"}})]),e._v(" "),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),e._v(" "),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item-dropdown",{attrs:{text:e.dataLabelName,right:""}},e._l(e.dataTypes,function(t,s){return a("b-dropdown-item",{key:s,attrs:{href:"#/chart/"},on:{click:function(t){e.dataType=s}}},[e._v(e._s(e.dataLabels[s]))])}),1),e._v(" "),a("b-nav-item-dropdown",{attrs:{text:e.chartLabelName,right:""}},e._l(e.chartTypes,function(t,s){return a("b-dropdown-item",{key:s,attrs:{href:"#/chart/"},on:{click:function(t){e.chartType=s}}},[e._v(e._s(e.chartLabels[s]))])}),1),e._v(" "),a("b-nav-item",{attrs:{href:"#/chart/"},on:{click:function(t){e.dataType=e.dataTypes.indexOf("battle")}}},[e._v("Bataille de mots")]),e._v(" "),a("b-nav-item",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapsible",modifiers:{collapsible:!0}}]},[e._v("A propos")]),e._v(" "),a("b-nav-item",{directives:[{name:"b-toggle",rawName:"v-b-toggle.settings",modifiers:{settings:!0}}]},[a("svg",{staticClass:"svg-inline--fa fa-cog fa-w-16 fa-lg",attrs:{width:"1em","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"cog",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"currentColor",d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}})])])],1),e._v(" "),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-form",[a("b-form-input",{staticClass:"mr-sm-2",attrs:{size:"sm",placeholder:"recherche full text"},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),e._v(" "),a("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm",type:"submit",href:"#/chart/"},on:{click:function(t){return e.updateSearch()}}},[e._v("Rechercher")])],1),e._v(" "),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("em",[e._v("Utilisateur")])]},proxy:!0}])},[e._v(" "),a("b-dropdown-item",{attrs:{href:"#/profile/"}},[e._v("Profile")]),e._v(" "),a("b-dropdown-item",{attrs:{href:"#/signin/"}},[e._v("Sign in / Sign out")])],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"container-fluid",attrs:{id:"global-container"}},[a("b-collapse",{attrs:{id:"settings"}},[a("div",{staticClass:"container-fluid p-0",attrs:{id:"head-container"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4 bg-light"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[e._v("\n                  Comptabiliser un contributeur au delà de "+e._s(e.$store.state.slide_value)+"\n                  message"+e._s(e.$store.state.slide_value>1?"s":"")+"\n                  posté"+e._s(e.$store.state.slide_value>1?"s":"")+" :\n                ")])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("vue-slider",e._b({ref:"slider",on:{change:function(t){return e.setNbMinUserMessages()}},model:{value:e.$store.state.slide_value,callback:function(t){e.$set(e.$store.state,"slide_value",t)},expression:"$store.state.slide_value"}},"vue-slider",e.options_slide,!1))],1)])]),e._v(" "),a("div",{staticClass:"col-sm-4 bg-light"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[e._v("\n                  Entre (date de debut):\n                ")])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-form-datepicker",e._b({on:{input:function(t){return e.setDateDeb()}},model:{value:e.$store.state.date_deb,callback:function(t){e.$set(e.$store.state,"date_deb",t)},expression:"$store.state.date_deb"}},"b-form-datepicker",e.options_ddeb,!1))],1)])]),e._v(" "),a("div",{staticClass:"col-sm-4 bg-light"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[e._v("\n                  Et (date de fin):\n                ")])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-form-datepicker",e._b({on:{input:function(t){return e.setDateFin()}},model:{value:e.$store.state.date_fin,callback:function(t){e.$set(e.$store.state,"date_fin",t)},expression:"$store.state.date_fin"}},"b-form-datepicker",e.options_dfin,!1))],1)])])])])])],1),e._v(" "),a("div",{staticClass:"container-fluid",attrs:{id:"global-container"}},[a("b-collapse",{attrs:{id:"collapsible"}},[a("div",{staticClass:"container-fluid p-0",attrs:{id:"head-container"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-2 bg-success"},[a("img",{staticClass:"card-img-top",attrs:{src:s("+IAP")}})]),e._v(" "),a("div",{staticClass:"col-sm-10 card-body bg-warning m-12",staticStyle:{"font-family":"'Roboto', Ital"}},[a("em",[e._v("\nHello."),a("br"),e._v("\nBienvenue sur DigDiscord."),a("br"),e._v("\nDigDiscord est le projet qui termine mon parcours DA python sur OpenClassrooms."),a("br"),e._v("\nLa page d'accueil servira de blog technique par la même occasion"),a("br"),e._v("\nDD explore et analyse le contenu des forums d'un serveur Discord ("),a("a",{attrs:{href:"https://discord.gg/JdjVJ2WV"}},[e._v("Ici DA Python")]),e._v(")"),a("br"),e._v("\nIl présente les résultats via une API Django/DRF utilisable sur un front end basé sur Vue JS / axios / bootstrap."),a("br"),e._v('\nIl collecte les commentaires / mots clés / URL / "snipets" / extraits / utilisateurs / dates / images de votre serveur discord pour les présenter sous forme d\'agrégats analytiques ou ludiques.'),a("br"),e._v("\nCela permet par exemple de suivre l'activité des forums ou des utilisateurs d'un serveur en présentant des statistiques suscitant l'intérêt des contributeurs."),a("br"),e._v('\nCe projet est un "POC", une démonstration, une V.0 qui demande à être améliorée (et elle le sera 🙂). Toute contribution est bienvenue.'),a("br"),e._v("\nL'API est (pour l'instant sommairement) exposée ici : "),a("a",{attrs:{href:"https://jean-charles-gibier.org/api/swagger/"}},[e._v("API")]),e._v("."),a("br"),e._v("\nLes sources sont disponibles ici : "),a("a",{attrs:{href:"https://github.com/jean-charles-gibier/DigDiscord"}},[e._v("DigDiscord")]),e._v("."),a("br"),e._v(" "),a("br"),e._v("\nCredit illustration : "),a("a",{attrs:{href:"https://twitter.com/Kazhig"}},[e._v("Adèle")]),a("br")])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12",attrs:{id:"app-2"}},[a("router-view",e._b({},"router-view",{chartType:e.chartTypeName,dataType:e.dataTypeName,searchSelected:e.searchSelected},!1))],1)])],1)])},staticRenderFns:[]};var y=s("VU/8")(b,C,!1,function(e){s("Le5q")},null,null).exports,x=s("/ocq"),w={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("h2",[e._v("Brève note d'intention du projet 13")]),e._v(" "),s("em",[e._v("\n    Avec Digdiscord, je teste la mise en place d’un service web selon un principe architectural très simple :"),s("br"),e._v("\n    le découplage entre le «front» et le «back»."),s("br"),e._v("\n    A l’instar du motif architectural MVC qui distingue les 3 responsabilités d’un logiciel (Modèle, Vue et Contrôleur), la conception de ce service web peut simplement se définir ainsi (*):"),s("br"),s("br"),e._v(" "),s("ul",{staticClass:"list-group list-group-flush"},[s("li",[e._v("\n        Récupérer de l’information."),s("br")]),e._v(" "),s("li",[e._v("\n        Délivrer des services."),s("br")]),e._v(" "),s("li",[e._v("\n        Avoir une interface accessible."),s("br")])]),s("br"),e._v("\nCes objectifs sont remplis par les actions respectives :"),s("br"),s("br"),e._v(" "),s("ul",{staticClass:"list-group list-group-flush"},[s("li",[e._v('\n        Collecte des commentaires, URL, "snipets", utilisateurs, dates, etc. dans un forum Discord grâce à son '),s("a",{attrs:{href:"https://discord.com/developers/docs/"}},[e._v("API ouverte")]),e._v("."),s("br")]),e._v(" "),s("li",[e._v("\n        Génération des agrégats analytiques ou ludiques."),s("br")]),e._v(" "),s("li",[e._v("\n        Présentation l’information sous forme dynamique de listes ou de graphiques."),s("br")])]),s("br"),e._v("\nEn outre, chacune de ces actions correspond à une solution technique bien déterminée :"),s("br"),s("br"),e._v(" "),s("ul",{staticClass:"list-group list-group-flush"},[s("li",[e._v("\nLa collecte est effectuée par une "),s("a",{attrs:{href:"https://docs.djangoproject.com/fr/3.1/howto/custom-management-commands/"}},[e._v("«commande managée»")]),e._v(" de Django"),s("br"),e._v("\nCette commande peut être automatisée par un mécanisme tiers (ex : par cron)"),s("br")]),e._v(" "),s("li",[e._v("\nLes agrégats sont générés naturellement via l’ORM de Django (**) et sont transmis à la couche présentation par les sérialiseurs DRF"),s("br")]),e._v(" "),s("li",[e._v("\nLes données sont exposées via l'API DRF ("),s("a",{attrs:{href:"https://jean-charles-gibier.org/api/swagger/"}},[e._v("exposée ici")]),e._v(")"),s("br")]),e._v(" "),s("li",[e._v("\nL’information est restituée sous forme de graphiques Vue-JS ou de «cards bootstrap»"),s("br")])]),s("br"),e._v("\nLe projet est donc basé sur ce triptyque : Django, DRF, Vue-JS"),s("br"),e._v("\nPlus précisément la pile technique de ce projet comprend :"),s("br"),s("br"),e._v(" "),s("ul",{staticClass:"list-group list-group-flush"},[s("li",[e._v("\nDjango / Django Rest Framework"),s("br")]),e._v(" "),s("li",[e._v("\nVue-JS"),s("br")]),e._v(" "),s("li",[e._v("\nBootstrap-vue"),s("br")]),e._v(" "),s("li",[e._v("\nVueChart-Js"),s("br")]),e._v(" "),s("li",[e._v("\nAxios"),s("br")]),e._v(" "),s("li",[e._v("\nSwagger-ui"),s("br")])]),s("br"),e._v('\n+ accessoirement pour l’aspect "bonnes pratiques" :'),s("br"),s("br"),e._v(" "),s("ul",{staticClass:"list-group list-group-flush"},[s("li",[e._v("\npre-commit"),s("br")])]),s("br")]),e._v(" "),s("small",[e._v("\n    (*) Enfin moi je le définis ainsi, mais vous pouvez voir ça comme une reformulation du paradigme MVC."),s("br"),e._v("\n    (**) Je n’ai pas su éviter quelques requêtes SQL brutes (on verra pourquoi)"),s("br")])])}]};var k=s("VU/8")({name:"HelloWorld",data:function(){return{msg:"Bienvenue dans cabane du vieux developpeur"}},mounted:function(){},components:{}},w,!1,function(e){s("EDcd")},"data-v-2922082b",null).exports,j=s("Gu7T"),S=s.n(j),T=s("d7EF"),D=s.n(T),N=s("UlOv"),E={data:function(){return{labels:[],dataSet:[],title:"default title"}},methods:{load_dataset:function(e,t){var s=this;if(void 0===e||void 0===e[0]||void 0===e[0].data||void 0===e[0].request)return console.log('Data or type undefined => return "No values" :\n'),console.log("["+i()(this.messages)+"]"),["No values",[],[]];var a={1:"Janvier",2:"Février",3:"Mars",4:"Avril",5:"Mai",6:"Juin",7:"Juillet",8:"Août",9:"Septembre",10:"Octobre",11:"Novembre",12:"Décembre"},r={1:"Lundi",2:"Mardi",3:"Mercredi",4:"Jeudi",5:"Vendredi",6:"Samedi",7:"Dimanche"},n=t.dataType,o=t.numMessage,l=(t.title,t.explain,e[o].request),c="aggregate_name",d="count",u=["denombrements","scores_c","scores_u","distributions","battle"].includes(n)&&!l.endsWith("api/distribution/")?e[o].data:e[o].data.results;if(console.log("values",u),void 0===u)return console.log("result undefined !"),["No values",[],[]];if(u=u.slice(0,25),"frequences_l"!==n&&"frequences_f"!==n&&"frequences_u"!==n||(l.endsWith("api/links/")?(c="link_content",d="count_links"):l.endsWith("api/channels/")?(c="channel_name",d="count_messages"):l.endsWith("api/score/")&&(c="user_name",d="count_messages")),"scores_c"!==n&&"scores_u"!==n||(l.endsWith("by_user/")&&(c="channel_name",d="count_messages"),l.endsWith("by_channel/")&&(c="user_name",d="count_messages")),"battle"===n){var p={},m={};p[c]=u[0].word_1,p[d]=u[0].result_1,m[c]=u[0].word_2,m[d]=u[0].result_2,u=[p,m]}return u.forEach(function(e){s.labels.push(l.endsWith("by_hour/")||l.endsWith("distribution/")?e[c]+" h":l.endsWith("by_weekday/")?r[e[c]]:l.endsWith("by_month/")?a[e[c]]:e[c]),s.dataSet.push(e[d])}),[e[o].title,e[o].explain,this.labels,this.dataSet]}}},q={extends:N.b,data:function(){return{gradient:null,gradient2:null}},props:{messages:{type:Array,required:!0},dataType:{type:String},chartType:{type:String},numMessage:{type:Number}},mixins:[E],mounted:function(){var e=this.load_dataset(this.messages,{title:"Titre Curve",chartType:"curve",dataType:this.dataType,numMessage:this.numMessage}),t=D()(e,4),s=t[0],a=t[1],r=t[2],n=t[3];this.gradient=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient2=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient.addColorStop(0,"rgba(255, 0,0, 0.5)"),this.gradient.addColorStop(.5,"rgba(255, 0, 0, 0.25)"),this.gradient.addColorStop(1,"rgba(255, 0, 0, 0)"),this.gradient2.addColorStop(0,"rgba(0, 231, 255, 0.9)"),this.gradient2.addColorStop(.5,"rgba(0, 231, 255, 0.25)"),this.gradient2.addColorStop(1,"rgba(0, 231, 255, 0)"),this.renderChart({labels:r,datasets:[{label:"Exemple",borderColor:"#FC2525",pointBackgroundColor:"white",borderWidth:1,pointBorderColor:"white",backgroundColor:this.gradient,data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},{label:a,borderColor:"#05CBE1",pointBackgroundColor:"white",pointBorderColor:"white",borderWidth:1,backgroundColor:this.gradient2,data:n}]},{title:{display:!0,text:s},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{suggestedMin:0}}]}})}},L=s("VU/8")(q,null,!1,null,null,null).exports,P={extends:N.c,props:{messages:{type:Array,required:!0},dataType:{type:String},chartType:{type:String},numMessage:{type:Number}},mixins:[E],methods:{random_rgba:function(){var e=Math.round,t=Math.random;return"rgba("+e(255*t())+", "+e(255*t())+", "+e(255*t())+", "+t().toFixed(1)+")"}},mounted:function(){var e=this.load_dataset(this.messages,{title:"Titre Pie",chartType:"pie",dataType:this.dataType,numMessage:this.numMessage}),t=D()(e,4),s=t[0],a=t[1],r=t[2],n=t[3];this.gradient=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient2=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient.addColorStop(0,"rgba(255, 0,0, 0.5)"),this.gradient.addColorStop(.5,"rgba(255, 0, 0, 0.25)"),this.gradient.addColorStop(1,"rgba(255, 0, 0, 0)"),this.gradient2.addColorStop(0,"rgba(0, 231, 255, 0.9)"),this.gradient2.addColorStop(.5,"rgba(0, 231, 255, 0.25)"),this.gradient2.addColorStop(1,"rgba(0, 231, 255, 0)");for(var i=r.length,o=Array.apply(null,{length:i}),l=0;l<i;++l)o[l]=this.random_rgba();this.renderChart({labels:r,datasets:[{label:a,backgroundColor:o,data:n}]},{title:{display:!0,text:s},responsive:!0,maintainAspectRatio:!1}),this.htmlLegend=this.generateLegend()}},M=s("VU/8")(P,null,!1,null,null,null).exports,V={extends:N.a,props:{messages:{type:Array,required:!0},dataType:{type:String},chartType:{type:String},numMessage:{type:Number}},mixins:[E],methods:{random_rgba:function(){var e=Math.round,t=Math.random,s=Math.sqrt;return"rgba("+e(192*t())+", "+e(192*t())+", "+e(192*t())+", "+s(t()).toFixed(1)+")"}},mounted:function(){var e=this.load_dataset(this.messages,{title:"Titre Bar",chartType:"bar",dataType:this.dataType,numMessage:this.numMessage}),t=D()(e,4),s=t[0],a=t[1],r=t[2],n=t[3];this.renderChart({labels:r,datasets:[{label:a,backgroundColor:this.random_rgba(),data:n}]},{title:{display:!0,text:s},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{suggestedMin:0}}]}})}},A=s("VU/8")(V,null,!1,null,null,null).exports,R={extends:N.b,props:{messages:{type:Array,required:!0},dataType:{type:String},chartType:{type:String},numMessage:{type:Number}},mixins:[E],mounted:function(){var e=this.load_dataset(this.messages,{title:"Titre Line",chartType:"line",dataType:this.dataType,numMessage:this.numMessage}),t=D()(e,4),s=t[0],a=t[1],r=t[2],n=t[3];this.renderChart({labels:r,datasets:[{label:a,backgroundColor:"transparent",borderColor:"rgba(1, 116, 188, 0.50)",pointBackgroundColor:"rgba(171, 71, 188, 1)",data:n}]},{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:s},scales:{yAxes:[{ticks:{suggestedMin:0}}]}})}},z=s("VU/8")(R,null,!1,null,null,null).exports,I={name:"App",props:{dataType:{type:String},chartType:{type:String},searchSelected:{type:String}},watch:{dataType:function(e,t){console.log("Prop changed: ",e," | was: ",t),this.refreshValues()},userSelected:function(e,t){console.log("Prop changed: ",e," | was: ",t),this.refreshValues()},channelSelected:function(e,t){console.log("Prop changed: ",e," | was: ",t),this.refreshValues()},repartSelected:function(e,t){console.log("Prop changed: ",e," | was: ",t),this.refreshValues()},uofSelected:function(e,t){console.log("Prop changed: ",e," | was: ",t),this.refreshValues()},searchSelected:function(e,t){console.log("Prop changed: ",e," | was: ",t),""!==e&&this.search(e)}},mixins:[g],components:{AreaChart:L,PieChart:M,BarChart:A,LineChart:z},data:function(){return{messages:[],channelList:[],channelMap:{},userList:[],userMap:{},userSelected:"0",channelSelected:"0",word1Selected:"",word2Selected:"",repartSelected:"generale",uofSelected:"0",searchLoaded:!1,options:[{text:"Générale",value:"generale"},{text:"Par utilisateur",value:"utilisateur"},{text:"Par forum",value:"forum"}]}},methods:{loadUserList:function(){var e=this;return d()(l.a.mark(function t(){var s,a,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s="http://127.0.0.1:8000/api/user/",t.next=3,e.get_stat(s);case 3:a=t.sent,e.userList.push(a);case 5:if(null===a.data.next){t.next=12;break}return t.next=8,e.get_stat(a.data.next);case 8:a=t.sent,(r=e.userList[0].data.results).push.apply(r,S()(a.data.results)),t.next=5;break;case 12:e.userList[0].data.results.forEach(function(t){return e.userMap[t.identifier]=t.name}),console.log("userList loaded");case 14:case"end":return t.stop()}},t,e)}))()},loadChannelList:function(){var e=this;return d()(l.a.mark(function t(){var s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s="http://127.0.0.1:8000/api/channel/",t.t0=e.channelList,t.next=4,e.get_stat(s);case 4:t.t1=t.sent,t.t0.push.call(t.t0,t.t1),e.channelList[0].data.results.forEach(function(t){return e.channelMap[t.identifier]=t.name}),console.log("channelList loaded");case 8:case"end":return t.stop()}},t,e)}))()},refreshValues:function(){var e=this;return d()(l.a.mark(function t(){var s,a,r,n,i,o,c,d,u,p,m,v,f,h,g;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("refreshValues"),s={denombrements:["channel/counter","link/counter","message/counter","user/counter","server/counter","server/"],scores_u:"score/<ID_USER>/by_user/",scores_c:"score/<ID_CHANNEL>/by_channel/",distributions:["distribution/","distribution/<ID_CHANNEL>/by_channel/by_hour/","distribution/<ID_CHANNEL>/by_channel/by_weekday/","distribution/<ID_CHANNEL>/by_channel/by_month/","distribution/<ID_USER>/by_user/by_hour/","distribution/<ID_USER>/by_user/by_weekday/","distribution/<ID_USER>/by_user/by_month/"],frequences_l:"links/",frequences_f:"channels/",frequences_u:"score/",battle:"wordbattle/<WORD_1>/<WORD_2>/"},a={denombrements:["Nombre de forums","Nombre de liens","Nombre de messages","Nombre d'utilsateurs","Nombre de seveurs","Nom du serveur"],scores_u:"Classement des forums pour l'utilisateur",scores_c:"Classement des contributeurs les + actifs pour le forum",distributions:["Distribution horaire (tous messages et forums confondus)","Distribution horaire des messages pour le forum","Distribution hebdomadaire des messages pour le forum","Distribution des messages par mois pour le forum","Distribution horaire des messages pour l'utilisateur","Distribution hebdomadaire des messages pour l'utilisateur","Distribution des messages par mois pour l'utilisateur"],frequences_l:"Fréquences par liens",frequences_f:"Fréquences par forums",frequences_u:"Fréquences par utilisateurs",battle:"Fréquence comparée de 2 mots sur le serveur"},r={denombrements:["","","","","",""],scores_u:"Nombre de messages / noms des forums",scores_c:"Nombre de messages / noms des utilisateurs",distributions:["Nombre de messages / heure du jour","Nombre de messages / heure du jour","Nombre de messages / Jour de la semaine","Nombre de messages / # du mois","Nombre de messages / heure du jour","Nombre de messages / Jour de la semaine","Nombre de messages / # du mois"],frequences_l:"Nombre de messages / Url",frequences_f:"Nombre de messages / forums",frequences_u:"Nombre de messages / utilisateurs",battle:"(Exemple :'Vue_JS' VS 'React' 😃)"},e.searchLoaded=!1,n="http://127.0.0.1:8000/api/",void 0===e.dataType){t.next=70;break}if(console.log("Type of data this.dataType :"+e.dataType),i=e.dataType,o=[],c=[],d=[],u=s[i],p=a[i],m=r[i],void 0!==u)if("[object Array]"===Object.prototype.toString.call(u))for(v=0;v<u.length;v++)o[v]=u[v],c[v]=p[v],d[v]=m[v];else o[0]=u,c[0]=p,d[0]=m;console.log("clear messages contents"),e.messages=[],f=o.length,console.log("Loading promises ..."),h=0;case 21:if(!(h<f)){t.next=70;break}if("distributions"!==e.dataType){t.next=38;break}if(console.log("in distributions :"+o[h]),!o[h].includes("<ID_USER>")){t.next=32;break}if(console.log("includes <ID_USER> but :"+e.repartSelected),"utilisateur"!==e.repartSelected){t.next=31;break}console.log("repartSelected === utilisateur"),o[h]=o[h].replace("<ID_USER>",e.uofSelected),t.next=32;break;case 31:return t.abrupt("continue",67);case 32:if(!o[h].includes("<ID_CHANNEL>")){t.next=38;break}if("forum"!==e.repartSelected){t.next=37;break}o[h]=o[h].replace("<ID_CHANNEL>",e.uofSelected),t.next=38;break;case 37:return t.abrupt("continue",67);case 38:if("scores_u"!==e.dataType){t.next=44;break}if(!o[h].includes("<ID_USER>")){t.next=44;break}if(void 0!==e.userSelected&&"0"!==e.userSelected){t.next=43;break}return console.log("warn : <ID_USER> is undefined"),t.abrupt("continue",67);case 43:o[h]=o[h].replace("<ID_USER>",e.userSelected);case 44:if("scores_c"!==e.dataType){t.next=50;break}if(!o[h].includes("<ID_CHANNEL>")){t.next=50;break}if(void 0!==e.channelSelected&&"0"!==e.channelSelected){t.next=49;break}return console.log("warn : <ID_CHANNEL> is undefined"),t.abrupt("continue",67);case 49:o[h]=o[h].replace("<ID_CHANNEL>",e.channelSelected);case 50:if("battle"!==e.dataType){t.next=61;break}if(!o[h].includes("<WORD_1>")){t.next=56;break}if(void 0!==e.word1Selected&&""!==e.word1Selected){t.next=55;break}return console.log("warn : <WORD_1> is undefined"),t.abrupt("continue",67);case 55:o[h]=o[h].replace("<WORD_1>",e.word1Selected);case 56:if(!o[h].includes("<WORD_2>")){t.next=61;break}if(void 0!==e.word2Selected&&""!==e.word2Selected){t.next=60;break}return console.log("warn : <WORD_2> is undefined"),t.abrupt("continue",67);case 60:o[h]=o[h].replace("<WORD_2>",e.word2Selected);case 61:return g=n+o[h],t.t0=e.messages,t.next=65,e.get_stat(g,c[h],d[h]);case 65:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 67:h++,t.next=21;break;case 70:case"end":return t.stop()}},t,e)}))()},search:function(e){var t=this;return d()(l.a.mark(function s(){var a;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a="http://127.0.0.1:8000/api/search/"+e+"/",console.log("clear messages contents and scan for :"+e),t.messages=[],s.t0=t.messages,s.next=6,t.get_stat(a,"Messages trouvés","Matching");case 6:s.t1=s.sent,s.t0.push.call(s.t0,s.t1),t.searchLoaded=!0;case 9:case"end":return s.stop()}},s,t)}))()}},computed:{cUserCount:function(){return this.messages[3]?this.messages[3].data.UserCount.count:""},cChannelCount:function(){return this.messages[0]?this.messages[0].data.ChannelCount.count:""},cLinkCount:function(){return this.messages[1]?this.messages[1].data.LinkCount.count:""},cServerCount:function(){return this.messages[4]?this.messages[4].data.ServerCount.count:""},cMessageCount:function(){return this.messages[2]?this.messages[2].data.MessageCount.count:""},cServerName:function(){return this.messages[5]?this.messages[5].data.results[0].name:""}},beforeMount:function(){console.log("beforeMount"),this.refreshValues(),this.loadUserList(),this.loadChannelList()},mounted:function(){console.log("mounted"),void 0!==this.dataType&&console.log("ChartContainer mounted this.messages :"+i()(this.messages))}},F={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[e.searchLoaded&&e.messages[0]?s("div",[e.messages[0].data.length>=50?s("div",{staticClass:"font-italic"},[e._v("\n      La recherche se limite aux 50 derniers messages.\n    ")]):0==e.messages[0].data.length?s("div",{staticClass:"font-italic"},[e._v("\n      Aucun résultat trouvé.\n    ")]):1==e.messages[0].data.length?s("div",{staticClass:"font-italic"},[e._v("\n      1 message\n    ")]):s("div",{staticClass:"font-italic"},[e._v("\n      "+e._s(e.messages[0].data.length)+" messages.\n    ")]),e._v(" "),s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",{attrs:{cols:"4"}},[s("b-list-group",{directives:[{name:"b-scrollspy",rawName:"v-b-scrollspy:listgroup-ex",arg:"listgroup-ex"}]},e._l(e.messages[0].data,function(t,a){return s("div",{key:a},[s("b-list-group-item",{attrs:{href:"#list-item-"+a}},[e._v(" "+e._s(e.userMap[e.messages[0].data[a].user_id]))]),e._v("\n                "+e._s(e.channelMap[e.messages[0].data[a].channel_id]+" - "+e.messages[0].data[a].date)+"\n            ")],1)}),0)],1),e._v(" "),s("b-col",{attrs:{cols:"8"}},[s("div",{style:"position:relative; overflow-y:auto; height:"+5*e.messages[0].data.length+"em",attrs:{id:"listgroup-ex"}},e._l(e.messages[0].data,function(t,a){return s("div",{key:a},[s("h4",{attrs:{id:"list-item-"+a}},[e._v(" "+e._s(e.userMap[e.messages[0].data[a].user_id]))]),e._v(" "),s("p",[e._v(e._s(e.messages[0].data[a].message))])])}),0)])],1)],1)],1):s("div",["denombrements"===e.dataType?s("div",[s("div",{staticClass:"d-flex flex-row justify-content-around"},[s("div",{staticClass:"card bg-light h2"},[s("div",{staticClass:"card-body text-center"},[s("p",{staticClass:"card-text"},[e._v("Chiffres du serveur "+e._s(e.cServerName)+" au "+e._s((new Date).toJSON().slice(0,10).split("-").reverse().join("/")))])])])]),e._v(" "),s("div",{staticClass:"d-flex flex-row justify-content-around"},[s("div",{staticClass:"card bg-light mb-3",staticStyle:{"max-width":"18rem"}},[e._m(0),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("p",{staticClass:"card-text h1"},[e._v("\n                        "+e._s(e.cUserCount)+"\n                      ")])])])])])]),e._v(" "),s("div",{staticClass:"card bg-light mb-3",staticStyle:{"max-width":"18rem"}},[e._m(1),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("p",{staticClass:"card-text h1"},[e._v("\n                        "+e._s(e.cChannelCount)+"\n                      ")])])])])])]),e._v(" "),s("div",{staticClass:"card bg-light mb-3",staticStyle:{"max-width":"18rem"}},[e._m(2),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("p",{staticClass:"card-text h1"},[e._v("\n                        "+e._s(e.cMessageCount)+"\n                      ")])])])])])]),e._v(" "),s("div",{staticClass:"card bg-light mb-3",staticStyle:{"max-width":"18rem"}},[e._m(3),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("p",{staticClass:"card-text h1"},[e._v("\n                        "+e._s(e.cLinkCount)+"\n                      ")])])])])])])])]):s("div",["scores_u"===e.dataType?s("div",{staticClass:"p-0"},[s("div",{staticClass:"card bg-light d-flex flex-row col-sm-12"},[s("div",{staticClass:"col-sm-6"},[s("div",{staticClass:"d-flex flex-row justify-content-center"},[s("div",{staticClass:"h5 pt-1 pl-2 pr-2"},[e._v("\n                  Utilisateur :\n                ")]),e._v(" "),s("div",{staticClass:"pt-1"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.userSelected,expression:"userSelected"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.userSelected=t.target.multiple?s:s[0]}}},e._l(this.userList[0].data.results,function(t){return s("option",{key:t.identifier,domProps:{value:t.identifier}},[e._v("\n                      "+e._s(t.name)+"\n                    ")])}),0)])])])])]):e._e(),e._v(" "),"scores_c"===e.dataType?s("div",{staticClass:"p-0"},[s("div",{staticClass:"card bg-light d-flex flex-row col-sm-12"},[s("div",{staticClass:"col-sm-6"},[s("div",{staticClass:"d-flex flex-row justify-content-center col-sm-12"},[s("div",{staticClass:"h5 pt-1 pl-2 pr-2"},[e._v("\n                  Forum :\n                ")]),e._v(" "),s("div",{staticClass:"pt-1"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.channelSelected,expression:"channelSelected"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.channelSelected=t.target.multiple?s:s[0]}}},e._l(this.channelList[0].data.results,function(t){return s("option",{key:t.identifier,domProps:{value:t.identifier}},[e._v("\n                      "+e._s(t.name)+"\n                    ")])}),0)])])])])]):e._e(),e._v(" "),"battle"===e.dataType?s("div",{staticClass:"p-0"},[s("div",{staticClass:"card bg-light"},[s("div",{staticClass:"row align-items-center flex-row"},[s("div",{staticClass:"justify-content-center d-flex col-sm-5"},[s("div",{staticClass:"h5 pt-1 pl-2 pr-2"},[e._v("\n                  Mot #1 :\n                ")]),e._v(" "),s("div",{staticClass:"pt-0"},[s("b-form-input",{attrs:{placeholder:"Entrer mot #1"},model:{value:e.word1Selected,callback:function(t){e.word1Selected=t},expression:"word1Selected"}})],1)]),e._v(" "),s("div",{staticClass:"justify-content-center d-flex col-sm-2"},[s("div",{staticClass:"h5 pt-1 pl-2 pr-2"},[s("b-button",{attrs:{pill:""},on:{click:function(t){return e.refreshValues()}}},[e._v("VS")])],1)]),e._v(" "),s("div",{staticClass:"justify-content-center d-flex col-sm-5"},[s("div",{staticClass:"h5 pt-1 pl-2 pr-2"},[e._v("\n                  Mot #2 :\n                ")]),e._v(" "),s("div",{staticClass:"pt-0"},[s("b-form-input",{attrs:{placeholder:"Entrer mot #2"},model:{value:e.word2Selected,callback:function(t){e.word2Selected=t},expression:"word2Selected"}})],1)])])])]):e._e(),e._v(" "),"distributions"===e.dataType?s("div",{staticClass:"p-0"},[s("div",{staticClass:"card bg-light"},[s("div",{staticClass:"row align-items-center flex-row"},[s("div",{staticClass:"justify-content-center d-flex col-sm-6 h5  pt-1 pl-2 pr-2"},[s("b-form-group",{attrs:{label:"Sélection"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.ariaDescribedby;return[s("b-form-radio-group",{attrs:{options:e.options,"aria-describedby":a,name:"plain-inline",plain:""},model:{value:e.repartSelected,callback:function(t){e.repartSelected=t},expression:"repartSelected"}})]}}],null,!1,2251118374)})],1),e._v(" "),"generale"!==e.repartSelected?s("div",{staticClass:"justify-content-center d-flex col-sm-6"},[s("div",{staticClass:"h5 pt-1 pl-2 pr-2"},[e._v("\n                      "+e._s("generale"===e.repartSelected?"":e.repartSelected[0].toUpperCase()+e.repartSelected.substring(1)+" :")+"\n                    ")]),e._v(" "),s("div",{staticClass:"pt-1"},["forum"===e.repartSelected?s("div",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.uofSelected,expression:"uofSelected"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.uofSelected=t.target.multiple?s:s[0]}}},e._l(this.channelList[0].data.results,function(t){return s("option",{key:t.identifier,domProps:{value:t.identifier}},[e._v("\n                            "+e._s(t.name)+"\n                          ")])}),0)]):s("div",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.uofSelected,expression:"uofSelected"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.uofSelected=t.target.multiple?s:s[0]}}},e._l(this.userList[0].data.results,function(t){return s("option",{key:t.identifier,domProps:{value:t.identifier}},[e._v("\n                            "+e._s(t.name)+"\n                          ")])}),0)])])]):e._e()])])]):e._e(),e._v(" "),"bar"===e.chartType?s("div",e._l(e.messages,function(t,a){return s("div",{key:a},[s("BarChart",{key:a,attrs:{messages:e.messages,dataType:e.dataType,numMessage:a}})],1)}),0):e._e(),e._v(" "),"curve"===e.chartType?s("div",e._l(e.messages,function(t,a){return s("div",{key:a},[s("AreaChart",{key:a,attrs:{messages:e.messages,dataType:e.dataType,numMessage:a}})],1)}),0):e._e(),e._v(" "),"pie"===e.chartType?s("div",e._l(e.messages,function(t,a){return s("div",{key:a},[s("PieChart",{key:a,attrs:{messages:e.messages,dataType:e.dataType,numMessage:a}})],1)}),0):e._e(),e._v(" "),"line"===e.chartType?s("div",e._l(e.messages,function(t,a){return s("div",{key:a},[s("LineChart",{key:a,attrs:{messages:e.messages,dataType:e.dataType,numMessage:a}})],1)}),0):e._e(),e._v(" "),"json"===e.chartType?s("div",{staticClass:"card"},e._l(e.messages,function(t,a){return s("div",{key:a},[s("pre",{staticClass:"text-left pre-scrollable"},[e._v("              "),s("code",[e._v("\n"+e._s(JSON.stringify(t,void 0,4))+"\n              ")]),e._v("\n            ")])])}),0):e._e()])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h5",{staticClass:"card-title"},[this._v("Nombre d'utilisateurs")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h5",{staticClass:"card-title"},[this._v("Nombre de forums")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h5",{staticClass:"card-title"},[this._v("Nombre de messages")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h5",{staticClass:"card-title"},[this._v("Nombre de liens")])])}]};var U=s("VU/8")(I,F,!1,function(e){s("JFGN")},null,null).exports,$={name:"Profile",mixins:[g],data:function(){return{first_name:"",last_name:"",email:"",pseudo:"",password1:"",password2:"",profileResponse:void 0,validToken:void 0}},methods:{registerProfile:function(){var e=this;return d()(l.a.mark(function t(){var s,a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e.profileResponse){t.next=8;break}return e.profileResponse="",s={discord_nickname:e.pseudo,location:"Paris",record_date:(new Date).toISOString().split("T")[0],uzer:{username:e.pseudo,email:e.email,first_name:e.first_name,last_name:e.last_name,password:e.password1}},a="http://127.0.0.1:8000/api/profile/",t.next=6,e.post_profile(a,s);case 6:e.profileResponse=t.sent,e.validToken=void 0;case 8:case"end":return t.stop()}},t,e)}))()},getToken:function(){var e=this;return d()(l.a.mark(function t(){var s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s="http://127.0.0.1:8000/api/api-token-auth/",t.next=3,e.post_get_token(s,"username="+e.email+"&password="+e.password1);case 3:e.validToken=t.sent,e.profileResponse=void 0;case 5:case"end":return t.stop()}},t,e)}))()}}},O={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center container h-100",attrs:{id:"Profile"}},[e._m(0),e._v(" "),s("form",{attrs:{id:"contactForm",name:"sentProfile",novalidate:"novalidate"},on:{submit:e.registerProfile}},[s("div",{staticClass:"container"},[s("div",{staticClass:"row align-items-stretch mb-5"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group mb-md-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.first_name,expression:"first_name"}],staticClass:"form-control",attrs:{id:"first_name",type:"text",placeholder:"Votre Prenom *",required:"required","data-validation-required-message":"Veuillez entrer votre prénom SVP."},domProps:{value:e.first_name},on:{input:function(t){t.target.composing||(e.first_name=t.target.value)}}}),e._v(" "),s("p",{staticClass:"help-block text-danger"})]),e._v(" "),s("div",{staticClass:"form-group mb-md-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.last_name,expression:"last_name"}],staticClass:"form-control",attrs:{id:"last_name",type:"text",placeholder:"Votre Nom *",required:"required","data-validation-required-message":"Veuillez entrer votre nom SVP."},domProps:{value:e.last_name},on:{input:function(t){t.target.composing||(e.last_name=t.target.value)}}}),e._v(" "),s("p",{staticClass:"help-block text-danger"})]),e._v(" "),s("div",{staticClass:"form-group mb-md-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{id:"email",type:"email",placeholder:"Votre adresse mail *",required:"required","data-validation-required-message":"Veuillez entrer votre adresse mail SVP."},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),s("p",{staticClass:"help-block text-danger"})])]),e._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group mb-md-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.pseudo,expression:"pseudo"}],staticClass:"form-control",attrs:{id:"pseudo",type:"text",placeholder:"Votre pseudo DAP","data-validation-required-message":"Veuillez entrer votre pseudo si vous en avez un."},domProps:{value:e.pseudo},on:{input:function(t){t.target.composing||(e.pseudo=t.target.value)}}}),e._v(" "),s("p",{staticClass:"help-block text-danger"})]),e._v(" "),s("div",{staticClass:"form-group mb-md-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password1,expression:"password1"}],staticClass:"form-control",attrs:{id:"password1",type:"password",placeholder:"Votre Mot de Passe *",required:"required","data-validation-required-message":"Votre mot de passe SVP."},domProps:{value:e.password1},on:{input:function(t){t.target.composing||(e.password1=t.target.value)}}}),e._v(" "),s("p",{staticClass:"help-block text-danger"})]),e._v(" "),s("div",{staticClass:"form-group mb-md-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"}],staticClass:"form-control",attrs:{id:"password2",type:"password",placeholder:"Confirmez votre Mot de Passe *",required:"required","data-validation-required-message":"Votre mot de passe SVP."},domProps:{value:e.password2},on:{input:function(t){t.target.composing||(e.password2=t.target.value)}}}),e._v(" "),s("p",{staticClass:"help-block text-danger"})])])]),e._v(" "),s("div",{staticClass:"row align-items-stretch mb-5"},[s("div"),e._v(" "),s("div",{staticClass:"col-md-12"},[void 0!==e.profileResponse?s("div",{staticClass:"text-center"},[s("div",{staticClass:"card mb-15",attrs:{id:"alert"}},[e._v("\n              "+e._s(e.profileResponse)+"\n            ")])]):e._e(),e._v(" "),void 0!==e.profileResponse||void 0!==e.validToken?s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-dark",on:{click:function(t){return e.getToken()}}},[e._v("Récupérez votre token")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.validToken,expression:"validToken"}],staticClass:"form-control text-center",domProps:{value:e.validToken},on:{input:function(t){t.target.composing||(e.validToken=t.target.value)}}})]):e._e(),e._v(" "),s("div",{staticClass:"text-center"},[s("div",{attrs:{id:"success"}}),e._v(" "),s("b-button",{staticClass:"btn btn-primary btn-xl text-uppercase",attrs:{pill:"",id:"sendProfileButton",type:"submit"}},[e._v("Enregistrer Votre Profil")])],1)])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"alert alert-light"},[this._v("\n    Veuillez compléter le formulaire"),t("br"),this._v("(vous obtiendrez un token pour interroger l'API)\n  ")])}]};var W=s("VU/8")($,O,!1,function(e){s("eyR1")},"data-v-c9e23efa",null).exports,B=s("NYxO"),H={name:"Profile",mixins:[g],data:function(){return{email:"",password1:"",validToken:void 0}},methods:{getAll:function(){var e=this;return d()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getToken();case 2:return t.next=4,e.getProfile();case 4:case"end":return t.stop()}},t,e)}))()},getToken:function(){var e=this;return d()(l.a.mark(function t(){var s,a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s="http://127.0.0.1:8000/api/api-token-auth/",t.next=3,e.post_get_token(s,"username="+e.email+"&password="+e.password1);case 3:e.validToken=t.sent,console.log("on getToken Token: ",e.validToken),a=/^[a-fA-F0-9]+$/i,e.validToken.match(a)&&e.$store.commit("SET_USER_TOKEN",e.validToken);case 8:case"end":return t.stop()}},t,e)}))()},getProfile:function(){var e=this;return d()(l.a.mark(function t(){var s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s="http://127.0.0.1:8000/api/profile/",t.next=3,e.get_stat(s,"","");case 3:e.profile=t.sent,console.log("on getProfile Token: ",e.profile),console.log("on getProfile Token: ",e.validToken," profile.date_debut: ",e.profile.data.date_debut," profile.date_fin: ",e.profile.data.date_fin),e.$store.commit("SET_DATE_DEB",e.profile.data.date_debut),e.$store.commit("SET_DATE_FIN",e.profile.data.date_fin),e.$store.commit("SET_SLIDE_VALUE",e.profile.data.nb_min_user_messages);case 9:case"end":return t.stop()}},t,e)}))()}},computed:v()({},Object(B.b)(["user_token"]))},J={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center container h-100",attrs:{id:"Profile"}},[s("div",{staticClass:"alert alert-light"}),e._v(" "),s("form",{attrs:{id:"signInForm",name:"signIn",novalidate:"novalidate"},on:{submit:e.getAll}},[s("div",{staticClass:"container"},[s("div",{staticClass:"row align-items-stretch mb-5"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group mb-md-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{id:"email",type:"email",placeholder:"Votre adresse mail *",required:"required","data-validation-required-message":"Veuillez entrer votre adresse mail SVP."},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),s("p",{staticClass:"help-block text-danger"})])]),e._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group mb-md-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password1,expression:"password1"}],staticClass:"form-control",attrs:{id:"password1",type:"password",placeholder:"Votre Mot de Passe *",required:"required","data-validation-required-message":"Votre mot de passe SVP."},domProps:{value:e.password1},on:{input:function(t){t.target.composing||(e.password1=t.target.value)}}}),e._v(" "),s("p",{staticClass:"help-block text-danger"})])])]),e._v(" "),s("div",{staticClass:"row align-items-stretch mb-5"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"text-center"},[s("div",{attrs:{id:"success"}},[void 0!==e.validToken?s("div",{staticClass:"text-center"},[s("div",{staticClass:"card mb-15",attrs:{id:"alert"}},[e._v("\n                                "+e._s(e.validToken)+"\n                                ")])]):e._e()]),e._v(" "),s("b-button",{staticClass:"btn btn-primary btn-xl text-uppercase",attrs:{pill:"",id:"sendProfileButton",type:"submit"}},[e._v("Identifiez vous")])],1)])])])])])},staticRenderFns:[]};var G=s("VU/8")(H,J,!1,function(e){s("I4P3")},"data-v-4c8727ce",null).exports;a.default.use(x.a);var X=new x.a({routes:[{path:"/",name:"Controller",component:k},{path:"/chart",name:"ChartContainer",component:U},{path:"/profile",name:"Profile",component:W},{path:"/signin",name:"SignIn",component:G}]});s("Jmt5"),s("9M+g");a.default.use(B.a);var K=new B.a.Store({state:{user_token:"82bc819879697f1ee2503d3384c56dfc862bae3a",date_deb:"01-01-1900",date_fin:"01-01-1900",slide_value:1},mutations:{SET_USER_TOKEN:function(e,t){e.user_token=String(t)},SET_DATE_DEB:function(e,t){e.date_deb=String(t)},SET_DATE_FIN:function(e,t){e.date_fin=String(t)},SET_SLIDE_VALUE:function(e,t){e.slide_value=Number(t)}},actions:{},modules:{}});a.default.use(r.a),a.default.use(r.b),a.default.config.devtools=!0,a.default.config.productionTip=!1,new a.default({el:"#app",router:X,components:{App:y},store:K,template:"<App/>"})},eyR1:function(e,t){},n1Sy:function(e,t){},oXXe:function(e,t,s){e.exports=s.p+"static/img/Dig-discord2.c6501cf.svg"},uslO:function(e,t,s){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn-bd":"1C9R","./bn-bd.js":"1C9R","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-in":"yJfC","./en-in.js":"yJfC","./en-nz":"dyB6","./en-nz.js":"dyB6","./en-sg":"NYST","./en-sg.js":"NYST","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-mx":"USNP","./es-mx.js":"USNP","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fil":"rMbQ","./fil.js":"rMbQ","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-deva":"VGQH","./gom-deva.js":"VGQH","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./oc-lnc":"KOFO","./oc-lnc.js":"KOFO","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tk":"+WRH","./tk.js":"+WRH","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-mo":"+WA1","./zh-mo.js":"+WA1","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function r(e){return s(n(e))}function n(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.c281291e85d8f190c619.js.map